# ==============================================================================
# CursorRuleCraft Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your values
# This single .env file is used by both frontend and backend in the NX monorepo

# ==============================================================================
# Backend API Configuration
# ==============================================================================
PORT=4000
HOST=0.0.0.0
NODE_ENV=development

# Frontend URL for CORS
FRONTEND_URL=http://localhost:3000


# ==============================================================================
# Supabase Configuration
# ==============================================================================
# Get these from: supabase start (local) or https://app.supabase.com (production)

# Local Development (after running: supabase start)
SUPABASE_URL=http://127.0.0.1:54321
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# Production (from Supabase Dashboard → Project Settings → API)
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_ANON_KEY=your_production_anon_key
# SUPABASE_SERVICE_ROLE_KEY=your_production_service_role_key

# ==============================================================================
# Clerk Authentication
# ==============================================================================
# Get these from: https://dashboard.clerk.com → Your App → API Keys

# Secret Key (Backend only - NEVER expose to frontend)
CLERK_SECRET_KEY=sk_test_your_clerk_secret_key_here

# Publishable Key (Frontend - safe to expose)
VITE_CLERK_PUBLISHABLE_KEY=pk_test_your_clerk_publishable_key_here

# Webhook Secret (optional - for Clerk webhooks)
# CLERK_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ==============================================================================
# GitHub App Integration (Optional)
# ==============================================================================
# Get these from: https://github.com/settings/apps

GITHUB_APP_ID=your_github_app_id
GITHUB_APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nyour_private_key_here\n-----END RSA PRIVATE KEY-----"
GITHUB_APP_PRIVATE_KEY_BASE64=base64_encoded_private_key_here
GITHUB_APP_CLIENT_ID=your_github_app_client_id
GITHUB_APP_CLIENT_SECRET=your_github_app_client_secret
GITHUB_APP_WEBHOOK_SECRET=your_github_webhook_secret
GITHUB_CLIENT_ID=your_github_oauth_client_id
GITHUB_CLIENT_SECRET=your_github_oauth_client_secret
GITHUB_REDIRECT_URI=http://localhost:4000/api/auth/github/callback

# ==============================================================================
# AI Provider Configuration
# ==============================================================================
# Get Groq API key from: https://console.groq.com/keys
GROQ_API_KEY=your_groq_api_key_here

# Future provider keys can be added here:
# OPENAI_API_KEY=your_openai_api_key_here
# ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ==============================================================================
# Frontend Environment Variables (VITE_* prefix required)
# ==============================================================================
# These are used by Vite during build and runtime

# API URL (relative path for same-domain, or full URL for different domain)
VITE_API_URL=/api


# ==============================================================================
# Docker-Specific Variables (Only for Docker deployment)
# ==============================================================================
# NOTE: Skip this section if you're using Supabase cloud!
# These are ONLY needed if you want to run PostgreSQL locally with Docker

# App port (frontend Nginx when using Docker)
# APP_PORT=80

# PostgreSQL (ONLY if NOT using Supabase - for self-hosted DB)
# POSTGRES_DB=cursorrulecraft
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=postgres
# POSTGRES_PORT=5432
# DATABASE_URL=postgresql://postgres:postgres@postgres:5432/cursorrulecraft

# ==============================================================================
# Notes
# ==============================================================================
# 1. Never commit this file with real values to git (.env is in .gitignore)
# 2. For local development, use Supabase CLI: supabase start
# 3. Frontend vars MUST have VITE_ prefix to be accessible in the browser
# 4. Backend can access all vars via ConfigService
# 5. This single .env file is shared by frontend and backend (NX monorepo)
# 6. For Docker deployment, create env.docker with production values
#
# ⚠️ IMPORTANT: If using Supabase cloud, you DON'T need the PostgreSQL Docker
#    settings above. Those are only for self-hosted database scenarios.

